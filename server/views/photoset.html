{% extends 'index.html' %}

{% block head %}
<link rel="stylesheet" href="/photoswipe/dist/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/dist/default-skin/default-skin.css">
{% endblock %}

{% block foot %}
<script src="/photoswipe/dist/photoswipe.js"></script>
<script src="/photoswipe/dist/photoswipe-ui-default.js"></script> 
<script src="/scripts/gallery.js"></script>
{# Google+ #}
<script type="text/javascript" src="https://apis.google.com/js/plusone.js">
  {lang: 'fr'}
</script>
{# Facebook #}
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/fr_FR/all.js#xfbml=1&appId=345996202116909";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
{% endblock %}

{% block body %}
<div class="row">
  <div class="columns">
    <h1>
      {{ photoset.title }}
    </h1>
    <div>
      {{ photoset.description | markdown | raw}}
    </div>
    <div
      class="row">
      <div
        id="gallery"
        class="columns large-8">
        <div class="row">
        {% for photo in photos %}
          <figure
            class="columns small-{% if photo.landscape || (photos[loop.index0-1] && photos[loop.index0-1].landscape) && true && (!photos[loop.index] || photos[loop.index].landscape) %}12{% else %}6{% endif %}">
            <a
              href="{{ photo.url_o }}"
              data-size="{{ photo.width }}x{{ photo.height }}">
              <img
                src="{{ photo.url_m }}"
                alt="{{ photo.tags }}"
                title="{{ photo.title }}">
            </a>
          </figure>
        {% endfor %}
        </div>
      </div>
      <div
        class="columns large-4">
        <h4>Share</h4>
        <div
          class="share-iframe">
          <div
            class="g-plusone"
            data-size="tall"
            data-href="{{ siteUrl }}{{ photoset.getUrl() }}"></div>
        </div>
        <div class="share-iframe">
          <div
            class="fb-like"
            data-layout="box_count"
            data-width="62"
            data-show-faces="false"
            data-font="arial"
            data-href="{{ siteUrl }}{{ photoset.getUrl() }}"></div>
        </div>
        <div
          class="share-iframe">
            <a
              href="http://twitter.com/share"
              class="twitter-share-button"
              data-count="vertical"
              data-via="hadrienl"
              data-lang="fr"
              data-url="{{ siteUrl }}{{ photoset.getUrl() }}"
              data-text="{{ photoset.title }}"
              data-hashtags="{{ photoset.tags }}">Tweet</a>
              <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
        </div>
        <h4>Comments</h4>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'quelquesphotos'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </div>
  </div>
</div>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

  <!-- Background of PhotoSwipe. 
       It's a separate element, as animating opacity is faster than rgba(). -->
  <div class="pswp__bg"></div>

  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">

      <!-- Container that holds slides. 
              PhotoSwipe keeps only 3 slides in DOM to save memory. -->
      <div class="pswp__container">
          <!-- don't modify these 3 pswp__item elements, data is added later on -->
          <div class="pswp__item"></div>
          <div class="pswp__item"></div>
          <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

          <div class="pswp__top-bar">

              <!--  Controls are self-explanatory. Order can be changed. -->

              <div class="pswp__counter"></div>

              <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

              <button class="pswp__button pswp__button--share" title="Share"></button>

              <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

              <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

              <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
              <!-- element will get class pswp__preloader--active when preloader is running -->
              <div class="pswp__preloader">
                  <div class="pswp__preloader__icn">
                    <div class="pswp__preloader__cut">
                      <div class="pswp__preloader__donut"></div>
                    </div>
                  </div>
              </div>
          </div>

          <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
              <div class="pswp__share-tooltip"></div> 
          </div>

          <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
          </button>

          <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
          </button>

          <div class="pswp__caption">
              <div class="pswp__caption__center"></div>
          </div>

        </div>

      </div>

</div>
